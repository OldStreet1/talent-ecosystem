<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.street.mapper.AdminMapper">
    <insert id="AdminAdd" parameterType="com.street.bean.Admin">
        insert into t_admin (admin_account, admin_password,admin_name)
        VALUE (#{admin_account},#{admin_password},#{admin_name})
    </insert>

    <select id="AdminLogin" parameterType="com.street.bean.Admin" resultType="com.street.dto.AdminDto">
        select *
        from t_admin
        where admin_account = #{admin_account} and admin_password = #{admin_password}
        ;
    </select>

    <select id="AdminSelect" parameterType="com.street.bean.Admin" resultType="com.street.dto.AdminDto">
        select *
        from t_admin
        where admin_roleId != '1'

    </select>


    <delete id="AdminDelete" parameterType="com.street.bean.Admin">
        delete
        from t_admin
        where admin_id =#{Admin.admin_id}

    </delete>

    <update id="AdminEnable" parameterType="com.street.bean.Admin">
        update
        t_admin set admin_state='启用'
        where admin_id =#{Admin.admin_id}

    </update>

    <update id="AdminDisable" parameterType="com.street.bean.Admin">
        update
        t_admin set admin_state='禁用'
        where admin_id =#{Admin.admin_id}

    </update>



    <select id="UserSelect" parameterType="com.street.bean.Admin" resultType="com.street.bean.Admin">
        select *
        from t_admin
        where admin_account = #{admin_account}
        ;
    </select>

    <select id="MenuSelect" parameterType="com.street.bean.Menu" resultType="com.street.bean.Menu">
        select *
        from t_menu
        where menu_id = #{menu_id},menu_name = #{menu_name},parentid = #{parentid},path = #{path}
        ;
    </select>
</mapper>
